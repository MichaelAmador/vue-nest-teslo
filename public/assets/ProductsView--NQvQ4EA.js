import{u as f,a as h}from"./get-product-image.action-DSvtMqvm.js";import{_,g as d}from"./get-products.action-Ccf0qD73.js";import{e as y,w as g,i as b,d as w,f as v,c as i,a as e,F as q,r as k,u as a,h as p,l as C,o as c,n as N,k as P,m as F,t as u}from"./index-2jjNbshW.js";const V=()=>{const r=b(),t=y(Number(r.query.page||1));return g(()=>r.query.page,l=>{t.value=Number(l||1),window.scrollTo({top:0,behavior:"smooth"})}),{page:t}},z={class:"bg-white px-5 py-2 rounded"},B={class:"py-8 w-full"},L={class:"shadow overflow-hidden rounded border-b border-gray-200"},Q={class:"min-w-full bg-white"},R={class:"text-gray-700"},T={class:"text-left py-3 px-4"},j=["src","alt"],E={class:"text-left py-3 px-4"},K={class:"text-left py-3 px-4"},S={class:"w-28 bg-blue-200 text-blue-600 py-1 px-3 rounded-full text-xs"},$={class:"text-left py-3 px-4"},H=w({__name:"ProductsView",setup(r){const{page:t}=V(),l=f(),{data:n=[]}=h({queryKey:["products",{page:t}],queryFn:()=>d(t.value)});return v(()=>{l.prefetchQuery({queryKey:["products",{page:t.value+1}],queryFn:()=>d(t.value+1)})}),(A,o)=>{const m=C("RouterLink");return c(),i("div",z,[o[1]||(o[1]=e("h1",{class:"text-3xl"},"Products",-1)),e("div",B,[e("div",L,[e("table",Q,[o[0]||(o[0]=e("thead",{class:"bg-gray-800 text-white"},[e("tr",null,[e("th",{class:"w-10 text-left py-3 px-4 uppercase font-semibold text-sm"}," Image "),e("th",{class:"flex-1 text-left py-3 px-4 uppercase font-semibold text-sm"}," Title "),e("th",{class:"w-28 py-3 px-4 uppercase font-semibold text-sm"}," Price "),e("th",{class:"w-60 text-left py-3 px-4 uppercase font-semibold text-sm"}," Sizes ")])],-1)),e("tbody",R,[(c(!0),i(q,null,k(a(n),(s,x)=>(c(),i("tr",{key:s.id,class:N({"bg-gray-100":x%2===0})},[e("td",T,[e("img",{src:s.images[0],alt:s.title,class:"h-10 w-10 object-cover"},null,8,j)]),e("td",E,[p(m,{to:`/admin/products/${s.id}`,class:"hover:text-blue-500 hover:underline"},{default:P(()=>[F(u(s.title),1)]),_:2},1032,["to"])]),e("td",K,[e("span",S,u(s.price),1)]),e("td",$,u(s.sizes.join(", ")),1)],2))),128))])])]),p(_,{page:a(t),"has-more-data":!!a(n)&&a(n).length<10,"is-first-page":a(t)===1},null,8,["page","has-more-data","is-first-page"])])])}}});export{H as default};
